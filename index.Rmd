---
title: "index"
author: "Marius Strampel"
date: "15/02/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(spotifyr)
library(ggplot2)
library(dplyr)
```

## 12066664 Computational Musicology Portfolio

I've chosen to use the fifteen studio albums by Pink Floyd (see list below) for a few reasons. First off, I really like (most of) their music and I listen to it often. Furthermore, I would like to analyse the differences in style between albums and how that may or may not have changed over time. It could also be interesting to try to find out which properties made some albums more popular than others. I think only using the studio albums suits these ends better than also using the live or collection albums, as the latter bring different versions of songs already on the studio albums and introduce stylistic differences from non-band members playing in the live performances.
<br>
Some albums that contain very atypical songs are albums such as ummagumma early on, which was.. 'experimental', as well as the stylistic shift that happened right around Animals and The Wall, where Waters started pulling in a different direction from Gilmour. The specific songs that might be typical or atypical will need to be looked at further.

List of albums (oldest to newest):

1. The Piper at the Gates of Dawn (1967)
2. A Saucerful of Secrets (1968)
3. More (1969)
4. Ummagumma (1969)
5. Atom Heart Mother (1970)
6. Meddle (1971)
7. Obscured by Clouds (1972)
8. The Dark Side of the Moon (1973)
9. Wish You Were Here (1975)
10. Animals (1977)
11. The Wall (1979)
12. The Final Cut (1983)
13. A Momentary Lapse of Reason (1987)
14. The Division Bell (1994)
15. The Endless River (2014)


```{r cars}
summary(cars)
```


```{r pressure, echo=FALSE}
plot(pressure)
```

```{r}
corpus_feat <- get_playlist_audio_features("", "1C9XFTKsUqn6U3ZsF8KL4A")

valence_means <- aggregate(corpus_feat[15], list(corpus_feat$track.album.release_date), mean)
#valence_means

energy_means <- aggregate(corpus_feat[7], list(corpus_feat$track.album.release_date), mean)
#energy_means

v_e_means <- merge(valence_means, energy_means)
v_e_means

ggplot() +
  geom_point(data=corpus_feat, aes(x=track.album.release_date, y=valence, size=energy, alpha=0.5)) + 
  geom_point(data=v_e_means, aes(x=Group.1, y=valence, size=energy, color='red')) +
  geom_line(data=v_e_means, aes(x=Group.1, y=valence, color='red', group=1)) +
  scale_x_discrete() +
  theme(
    axis.text.x = element_text(angle=30, hjust="1")
  ) +
  labs(
    title = "Valence and Energy for Songs on Studio Albums by Pink Floyd",
    x = "Album Release Date",
    y = "Valence"
  ) +
  guides(
    alpha = FALSE,
    fill = FALSE,
    color = FALSE
  )

corpus_feat
    
```



